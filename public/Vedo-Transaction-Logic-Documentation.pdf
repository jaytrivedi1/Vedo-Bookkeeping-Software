%PDF-1.3
%ºß¬à
3 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 4 0 R
>>
endobj
4 0 obj
<<
/Length 468
>>
stream
0.5670000000000001 w
0 G
BT
/F2 24 Tf
27.5999999999999979 TL
0 g
118.359999999999971 671.8112598425196893 Td
(VEDO BOOKKEEPING SYSTEM) Tj
ET
BT
/F2 18 Tf
20.6999999999999993 TL
0 g
177.129999999999967 615.1183464566928478 Td
(Comprehensive Transaction) Tj
ET
BT
/F2 18 Tf
20.6999999999999993 TL
0 g
205.92999999999995 586.7718897637794271 Td
(Logic Documentation) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
246.589999999999975 501.7325196850393354 Td
(Generated: 11/10/2025) Tj
ET
endstream
endobj
5 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 6 0 R
>>
endobj
6 0 obj
<<
/Length 1106
>>
stream
0.5670000000000001 w
0 G
BT
/F2 16 Tf
18.3999999999999986 TL
0 g
56.6929133858267775 785.1970866141732586 Td
(TABLE OF CONTENTS) Tj
ET
BT
/F1 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 714.3309448818897636 Td
(1. Invoice Transactions) Tj
ET
BT
/F1 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 678.8978740157480161 Td
(2. Receive Payment Transactions) Tj
ET
BT
/F1 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 643.4648031496062686 Td
(3. Deposit Transactions) Tj
ET
BT
/F1 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 608.0317322834645211 Td
(4. Sales Receipt Transactions) Tj
ET
BT
/F1 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 572.5986614173227736 Td
(5. Customer Credit Transactions) Tj
ET
BT
/F1 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 537.1655905511811397 Td
(6. Journal Entry Transactions) Tj
ET
BT
/F1 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 501.7325196850393354 Td
(7. Payment Applications Table) Tj
ET
BT
/F1 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 466.2994488188975879 Td
(8. Deletion Cascade Logic Summary) Tj
ET
endstream
endobj
7 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 8 0 R
>>
endobj
8 0 obj
<<
/Length 3055
>>
stream
0.5670000000000001 w
0 G
BT
/F2 18 Tf
20.6999999999999993 TL
0 g
56.6929133858267775 785.1970866141732586 Td
(1. INVOICE TRANSACTIONS) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 731.3388188976377933 Td
(1.1 OVERVIEW) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 697.3230708661417339 Td
(Invoices represent amounts owed by customers for goods or services provided. They follow double-entry) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 683.1498425196850803 Td
(accounting principles, affecting Accounts Receivable and Revenue accounts. Invoices can have credits) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 668.9766141732283131 Td
(applied, be paid through Receive Payment transactions, and support multi-currency operations.) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 632.1262204724408775 Td
(1.2 DATABASE SCHEMA) Tj
ET
BT
/F2 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 598.1104724409448181 Td
(Table: transactions \(type: "invoice"\)) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 554.1734645669291695 Td
(id - serial - Primary key, auto-incremented) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 527.2443307086614368 Td
(reference - text - Invoice number \(e.g., INV-1001\)) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 500.3151968503936473 Td
(type - transaction_type - Always "invoice" for invoices) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 473.3860629921259147 Td
(date - timestamp - Invoice date) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 446.4569291338582389 Td
(amount - double precision - Total amount in home currency) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 419.5277952755905062 Td
(balance - double precision - Remaining unpaid balance) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 392.5986614173227736 Td
(contactId - integer - FK to contacts \(customer\)) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 365.6695275590550409 Td
(status - status - open, paid, partial, overdue) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 338.7403937007873083 Td
(currency - varchar\(3\) - Foreign currency code) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 311.8112598425195756 Td
(exchangeRate - decimal\(18,6\) - Exchange rate used) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 270.7088976377951894 Td
(1.3 INVOICE CREATION FLOW) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 222.5199212598424765 Td
(Step 1: Validate invoice data using invoiceSchema from shared/schema.ts) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 194.1734645669290558 Td
(  • Ensure contactId exists and is a valid customer) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 165.827007874015635 Td
(  • Ensure reference number is unique) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 137.480551181102328 Td
(  • Validate line items \(at least 1 required\)) Tj
ET
endstream
endobj
9 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 10 0 R
>>
endobj
10 0 obj
<<
/Length 1920
>>
stream
0.5670000000000001 w
0 G
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 785.1970866141732586 Td
(Step 2: Calculate totals) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 756.8506299212598378 Td
(  • subTotal = sum of \(quantity × unitPrice\) for all line items) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 728.5041732283464171 Td
(  • taxAmount = sum of calculated tax for each line item) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 700.15771653543311 Td
(  • totalAmount = subTotal + taxAmount) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 643.4648031496062686 Td
(Step 3: Create transaction record) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 615.1183464566928478 Td
(  • Insert into transactions table with type = "invoice") Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 586.7718897637794271 Td
(  • Set balance = totalAmount \(fully unpaid\)) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 558.42543307086612 Td
(  • Set status = "open") Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 501.7325196850393354 Td
(Step 4: Generate ledger entries \(double-entry bookkeeping\)) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 473.3860629921259147 Td
(  a\) Debit Accounts Receivable) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 445.0396062992125508 Td
(     - Debit: totalAmount) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 416.69314960629913 Td
(     - Description: "Invoice #[reference]") Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 360.0002362204724022 Td
(  b\) Credit Revenue Account\(s\)) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 331.6537795275589815 Td
(     - For each line item: Credit line item amount) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 274.9608661417322537 Td
(  c\) Credit Sales Tax Payable \(if tax applies\)) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 246.614409448818833 Td
(     - Credit: taxAmount) Tj
ET
endstream
endobj
11 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 12 0 R
>>
endobj
12 0 obj
<<
/Length 2618
>>
stream
0.5670000000000001 w
0 G
BT
/F2 18 Tf
20.6999999999999993 TL
0 g
56.6929133858267775 785.1970866141732586 Td
(2. RECEIVE PAYMENT TRANSACTIONS) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 731.3388188976377933 Td
(2.1 OVERVIEW) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 697.3230708661417339 Td
(Receive Payment transactions record money received from customers to pay off invoices or create unapplied) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 683.1498425196850803 Td
(credits. They link to invoices via the payment_applications table, which is the source of truth for how) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 668.9766141732283131 Td
(payments are allocated.) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 632.1262204724408775 Td
(2.2 PAYMENT CREATION FLOW) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 583.9372440944881646 Td
(Step 1: Validate payment data) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 555.5907874015747439 Td
(  • Ensure contactId exists and is a customer) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 527.2443307086614368 Td
(  • Validate payment amount > 0) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 498.8978740157479592 Td
(  • Ensure paymentAccountId is a valid bank/cash account) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 442.2049606299212314 Td
(Step 2: Calculate payment allocations) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 413.8585039370078107 Td
(  • User specifies which invoices to pay and amounts) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 385.5120472440944468 Td
(  • If payment > allocated: remainder becomes unapplied credit) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 328.8191338582676053 Td
(Step 3: Create payment application records) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 300.4726771653542983 Td
(  • For each invoice being paid:) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 272.1262204724408775 Td
(    - INSERT INTO payment_applications) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 243.7797637795274568 Td
(    - paymentId: ID of this payment) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 215.4333070866141497 Td
(    - invoiceId: ID of invoice being paid) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 187.086850393700729 Td
(    - amountApplied: Amount allocated to this invoice) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 130.3939370078738875 Td
(Step 4: Generate ledger entries) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 102.0474803149605805 Td
(  a\) Debit Bank/Cash Account) Tj
ET
endstream
endobj
13 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 14 0 R
>>
endobj
14 0 obj
<<
/Length 911
>>
stream
0.5670000000000001 w
0 G
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 785.1970866141732586 Td
(     - Debit: total payment amount) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 728.5041732283464171 Td
(  b\) Credit Accounts Receivable \(for each invoice\)) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 700.15771653543311 Td
(     - Credit: amountApplied) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 643.4648031496062686 Td
(Step 5: Calculate FX Gains/Losses \(multi-currency\)) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 615.1183464566928478 Td
(     •   I f   i n v o i c e   c u r r e n c y  "`   h o m e   c u r r e n c y :) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 586.7718897637794271 Td
(    - Compare invoice vs payment exchange rates) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 558.42543307086612 Td
(    - Create fx_realizations record for audit trail) Tj
ET
endstream
endobj
15 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 16 0 R
>>
endobj
16 0 obj
<<
/Length 1507
>>
stream
0.5670000000000001 w
0 G
BT
/F2 18 Tf
20.6999999999999993 TL
0 g
56.6929133858267775 785.1970866141732586 Td
(3. DEPOSIT TRANSACTIONS) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 731.3388188976377933 Td
(3.1 OVERVIEW) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 697.3230708661417339 Td
(Deposits record money deposited into bank accounts. They can represent direct income deposits, customer) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 683.1498425196850803 Td
(payments, or unapplied credits that can be applied to invoices later.) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 646.2994488188976447 Td
(3.2 DEPOSIT BALANCE CONVENTION) Tj
ET
BT
/F2 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 612.2837007874015853 Td
(Deposits representing unapplied credits store balance as NEGATIVE:) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 568.346692913385823 Td
( •   $ 5 , 0 0 0   d e p o s i t  !’   b a l a n c e   =   - $ 5 , 0 0 0) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 540.0002362204724022 Td
(• This indicates $5,000 available to apply to future invoices) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 511.6537795275589815 Td
( •   W h e n   $ 2 , 0 0 0   a p p l i e d  !’   b a l a n c e   b e c o m e s   - $ 3 , 0 0 0) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 483.3073228346456176 Td
( •   W h e n   f u l l y   a p p l i e d  !’   b a l a n c e   =   $ 0 ,   s t a t u s   =   " c o m p l e t e d ") Tj
ET
endstream
endobj
17 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 18 0 R
>>
endobj
18 0 obj
<<
/Length 1775
>>
stream
0.5670000000000001 w
0 G
BT
/F2 18 Tf
20.6999999999999993 TL
0 g
56.6929133858267775 785.1970866141732586 Td
(4. SALES RECEIPT TRANSACTIONS) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 731.3388188976377933 Td
(4.1 OVERVIEW) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 697.3230708661417339 Td
(Sales Receipts represent immediate cash sales where payment is received at the time of sale. Unlike) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 683.1498425196850803 Td
(invoices \(which create receivables\), sales receipts record both the revenue and the cash receipt in a single) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 668.9766141732283131 Td
(transaction.) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 632.1262204724408775 Td
(4.2 KEY DIFFERENCES) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 583.9372440944881646 Td
(Invoice:) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 555.5907874015747439 Td
(  • Creates Accounts Receivable) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 527.2443307086614368 Td
(  • Records revenue, then later payment reduces AR) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 498.8978740157479592 Td
(  • Has balance to track) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 442.2049606299212314 Td
(Sales Receipt:) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 413.8585039370078107 Td
(  • Records revenue AND cash simultaneously) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 385.5120472440944468 Td
(  • No AR involved) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 357.1655905511810261 Td
(  • Status always "completed") Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 328.8191338582676053 Td
(  • Cannot have payments applied to it) Tj
ET
endstream
endobj
19 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 20 0 R
>>
endobj
20 0 obj
<<
/Length 2146
>>
stream
0.5670000000000001 w
0 G
BT
/F2 18 Tf
20.6999999999999993 TL
0 g
56.6929133858267775 785.1970866141732586 Td
(5. CUSTOMER CREDIT TRANSACTIONS) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 731.3388188976377933 Td
(5.1 OVERVIEW) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 697.3230708661417339 Td
(Customer Credits \(Credit Memos\) are issued to customers to reduce their account balance. Common) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 683.1498425196850803 Td
(scenarios include product returns, service adjustments, billing corrections, and goodwill gestures.) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 646.2994488188976447 Td
(5.2 CREATION FLOW) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 598.1104724409448181 Td
(Step 1: Create customer credit transaction) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 569.7640157480313974 Td
(  • amount = total credit amount) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 541.4175590551180903 Td
(  • balance = amount \(fully unapplied initially\)) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 513.0711023622046696 Td
(  • status = "unapplied_credit") Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 456.378188976377885 Td
(Step 2: Generate ledger entries) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 428.0317322834645211 Td
(  a\) Debit Sales Revenue \(reverses revenue\)) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 399.6852755905511003 Td
(     - Debit: credit amount) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 342.9923622047243725 Td
(  b\) Credit Accounts Receivable \(reduces customer balance\)) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 314.6459055118109518 Td
(     - Credit: credit amount) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 257.952992125984224 Td
(Step 3: Make credit available for application) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 229.6065354330708033 Td
(  • Credit appears in customer's available credits list) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 201.2600787401573825 Td
(  • Can be applied to existing or future invoices) Tj
ET
endstream
endobj
21 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 22 0 R
>>
endobj
22 0 obj
<<
/Length 1884
>>
stream
0.5670000000000001 w
0 G
BT
/F2 18 Tf
20.6999999999999993 TL
0 g
56.6929133858267775 785.1970866141732586 Td
(6. JOURNAL ENTRY TRANSACTIONS) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 731.3388188976377933 Td
(6.1 OVERVIEW) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 697.3230708661417339 Td
(Journal Entries are manual accounting entries that allow direct manipulation of the general ledger. They are) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 683.1498425196850803 Td
(used for adjusting entries, depreciation, equity transactions, and any transaction not covered by standard) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 668.9766141732283131 Td
(transaction types.) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 632.1262204724408775 Td
(6.2 CRITICAL VALIDATION) Tj
ET
BT
/F2 11 Tf
12.6499999999999986 TL
0 g
56.6929133858267775 598.1104724409448181 Td
(Total Debits MUST EQUAL Total Credits \(within 0.001 tolerance\)) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 554.1734645669291695 Td
(Valid Entry:) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 525.827007874015635 Td
(  • Entry 1: Debit Rent Expense $1,000) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 497.480551181102328 Td
(  • Entry 2: Credit Cash $1,000) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 469.1340944881889072 Td
(     •   R e s u l t :  '   A c c e p t e d) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 412.4411811023621226 Td
(Invalid Entry:) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 384.0947244094487587 Td
(  • Entry 1: Debit Rent Expense $1,000) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 355.7482677165353948 Td
(  • Entry 2: Credit Cash $900) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 327.4018110236220309 Td
(     •   R e s u l t :  '   R e j e c t e d   w i t h   e r r o r) Tj
ET
endstream
endobj
23 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 24 0 R
>>
endobj
24 0 obj
<<
/Length 2769
>>
stream
0.5670000000000001 w
0 G
BT
/F2 18 Tf
20.6999999999999993 TL
0 g
56.6929133858267775 785.1970866141732586 Td
(7. PAYMENT APPLICATIONS TABLE) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 731.3388188976377933 Td
(7.1 OVERVIEW) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 697.3230708661417339 Td
(The payment_applications table is the SOURCE OF TRUTH for tracking which payments have been applied) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 683.1498425196850803 Td
(to which invoices. This creates a many-to-many relationship allowing one payment to be split across multiple) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
56.6929133858267775 668.9766141732283131 Td
(invoices and one invoice to receive payments from multiple sources.) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 632.1262204724408775 Td
(7.2 TABLE SCHEMA) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 583.9372440944881646 Td
(id - serial - Primary key) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 557.0081102362204319 Td
(paymentId - integer - FK to transactions \(payment type\)) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 530.0789763779526993 Td
(invoiceId - integer - FK to transactions \(invoice type\)) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 503.1498425196849666 Td
(amountApplied - double precision - Amount allocated) Tj
ET
BT
/F1 9 Tf
10.3499999999999996 TL
0 g
70.8661417322834666 476.2207086614172908 Td
(createdAt - timestamp - When application was created) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 435.1183464566928478 Td
(7.3 USAGE EXAMPLE) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 386.929370078740078 Td
(Single Payment to Multiple Invoices:) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 358.5829133858267141 Td
(  Payment: PAY-002 for $5,000) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
85.0393700787401627 330.2364566929132934 Td
(  Invoices:) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 301.8899999999999864 Td
(    - INV-1002: $2,000) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 273.5435433070865656 Td
(    - INV-1003: $1,500) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 245.1970866141731449 Td
(    - INV-1004: $1,000) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 216.8506299212597241 Td
(  Unapplied: $500) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 160.1577165354329964 Td
(Payment Applications Created:) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 131.8112598425195756 Td
(  • Record 1: paymentId=6, invoiceId=11, amountApplied=$2,000) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 103.4648031496061549 Td
(  • Record 2: paymentId=6, invoiceId=12, amountApplied=$1,500) Tj
ET
endstream
endobj
25 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 26 0 R
>>
endobj
26 0 obj
<<
/Length 493
>>
stream
0.5670000000000001 w
0 G
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 785.1970866141732586 Td
(  • Record 3: paymentId=6, invoiceId=13, amountApplied=$1,000) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 728.5041732283464171 Td
(Result:) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 700.15771653543311 Td
(  • Payment has $500 unapplied \(balance $500\)) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 671.8112598425196893 Td
(  • All 3 invoices fully paid \(balance $0\)) Tj
ET
endstream
endobj
27 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 28 0 R
>>
endobj
28 0 obj
<<
/Length 2260
>>
stream
0.5670000000000001 w
0 G
BT
/F2 18 Tf
20.6999999999999993 TL
0 g
56.6929133858267775 785.1970866141732586 Td
(8. DELETION CASCADE LOGIC) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 731.3388188976377933 Td
(8.1 GENERAL PRINCIPLES) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 683.1498425196850803 Td
(1. Atomic Operations) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 654.8033858267716596 Td
(  • All deletions wrapped in database transactions) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 626.4569291338582389 Td
(  • If any step fails, entire operation rolls back) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 569.7640157480313974 Td
(2. Cascade Restoration) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 541.4175590551180903 Td
(  • Restore all linked transactions to pre-deletion state) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 513.0711023622046696 Td
(  • Update balances and statuses accurately) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 456.378188976377885 Td
(3. Complete Cleanup) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 428.0317322834645211 Td
(  • Delete from payment_applications first) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 399.6852755905511003 Td
(  • Then delete ledger_entries) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 371.3388188976377364 Td
(  • Then delete line_items) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 342.9923622047243725 Td
(  • Finally delete the transaction itself) Tj
ET
BT
/F2 10 Tf
11.5 TL
0 g
56.6929133858267775 286.2994488188975311 Td
(4. Account Balance Reversal) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 257.952992125984224 Td
(  • Reverse all ledger entry effects on account balances) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
85.0393700787401627 229.6065354330708033 Td
(  • Follow account type rules \(debit/credit nature\)) Tj
ET
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
56.6929133858267775 187.086850393700729 Td
(8.2 DELETION ORDER OF OPERATIONS) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 138.8978740157479024 Td
(1. Validation - Verify transaction exists) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 110.5514173228345953 Td
(2. Find Linked Transactions - Query payment_applications) Tj
ET
endstream
endobj
29 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 30 0 R
>>
endobj
30 0 obj
<<
/Length 1050
>>
stream
0.5670000000000001 w
0 G
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 785.1970866141732586 Td
(3. Restore Linked Balances - Add back applied amounts) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 756.8506299212598378 Td
(4. Delete Link Records - Remove payment_applications) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 728.5041732283464171 Td
(5. Reverse Account Balances - Update all affected accounts) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 700.15771653543311 Td
(6. Delete Ledger Entries - Remove accounting entries) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 671.8112598425196893 Td
(7. Delete Line Items - Remove transaction details) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 643.4648031496062686 Td
(8. Delete Transaction - Remove main record) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 615.1183464566928478 Td
(9. Recalculate Balances - Verify data integrity) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
70.8661417322834666 586.7718897637794271 Td
(10. Return Result - Provide feedback on restoration) Tj
ET
endstream
endobj
31 0 obj
<</Type /Page
/Parent 1 0 R
/Resources 2 0 R
/MediaBox [0 0 595.2799999999999727 841.8899999999999864]
/Contents 32 0 R
>>
endobj
32 0 obj
<<
/Length 419
>>
stream
0.5670000000000001 w
0 G
BT
/F2 14 Tf
16.0999999999999979 TL
0 g
207.1999999999999602 477.6379133858267778 Td
(END OF DOCUMENTATION) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
174.6899999999999125 435.1182283464567035 Td
(For questions or clarifications about this documentation,) Tj
ET
BT
/F1 10 Tf
11.5 TL
0 g
146.5399999999998784 418.1103543307086738 Td
(please refer to the Vedo codebase or contact the development team.) Tj
ET
endstream
endobj
1 0 obj
<</Type /Pages
/Kids [3 0 R 5 0 R 7 0 R 9 0 R 11 0 R 13 0 R 15 0 R 17 0 R 19 0 R 21 0 R 23 0 R 25 0 R 27 0 R 29 0 R 31 0 R ]
/Count 15
>>
endobj
33 0 obj
<<
/Type /Font
/BaseFont /Helvetica
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
34 0 obj
<<
/Type /Font
/BaseFont /Helvetica-Bold
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
35 0 obj
<<
/Type /Font
/BaseFont /Helvetica-Oblique
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
36 0 obj
<<
/Type /Font
/BaseFont /Helvetica-BoldOblique
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
37 0 obj
<<
/Type /Font
/BaseFont /Courier
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
38 0 obj
<<
/Type /Font
/BaseFont /Courier-Bold
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
39 0 obj
<<
/Type /Font
/BaseFont /Courier-Oblique
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
40 0 obj
<<
/Type /Font
/BaseFont /Courier-BoldOblique
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
41 0 obj
<<
/Type /Font
/BaseFont /Times-Roman
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
42 0 obj
<<
/Type /Font
/BaseFont /Times-Bold
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
43 0 obj
<<
/Type /Font
/BaseFont /Times-Italic
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
44 0 obj
<<
/Type /Font
/BaseFont /Times-BoldItalic
/Subtype /Type1
/Encoding /WinAnsiEncoding
/FirstChar 32
/LastChar 255
>>
endobj
45 0 obj
<<
/Type /Font
/BaseFont /ZapfDingbats
/Subtype /Type1
/FirstChar 32
/LastChar 255
>>
endobj
46 0 obj
<<
/Type /Font
/BaseFont /Symbol
/Subtype /Type1
/FirstChar 32
/LastChar 255
>>
endobj
2 0 obj
<<
/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]
/Font <<
/F1 33 0 R
/F2 34 0 R
/F3 35 0 R
/F4 36 0 R
/F5 37 0 R
/F6 38 0 R
/F7 39 0 R
/F8 40 0 R
/F9 41 0 R
/F10 42 0 R
/F11 43 0 R
/F12 44 0 R
/F13 45 0 R
/F14 46 0 R
>>
/XObject <<
>>
>>
endobj
47 0 obj
<<
/Producer (jsPDF 3.0.1)
/CreationDate (D:20251110202930-00'00')
>>
endobj
48 0 obj
<<
/Type /Catalog
/Pages 1 0 R
/OpenAction [3 0 R /FitH null]
/PageLayout /OneColumn
>>
endobj
xref
0 49
0000000000 65535 f 
0000027262 00000 n 
0000029180 00000 n 
0000000015 00000 n 
0000000152 00000 n 
0000000671 00000 n 
0000000808 00000 n 
0000001966 00000 n 
0000002103 00000 n 
0000005210 00000 n 
0000005348 00000 n 
0000007321 00000 n 
0000007460 00000 n 
0000010131 00000 n 
0000010270 00000 n 
0000011233 00000 n 
0000011372 00000 n 
0000012932 00000 n 
0000013071 00000 n 
0000014899 00000 n 
0000015038 00000 n 
0000017237 00000 n 
0000017376 00000 n 
0000019313 00000 n 
0000019452 00000 n 
0000022274 00000 n 
0000022413 00000 n 
0000022958 00000 n 
0000023097 00000 n 
0000025410 00000 n 
0000025549 00000 n 
0000026652 00000 n 
0000026791 00000 n 
0000027415 00000 n 
0000027541 00000 n 
0000027672 00000 n 
0000027806 00000 n 
0000027944 00000 n 
0000028068 00000 n 
0000028197 00000 n 
0000028329 00000 n 
0000028465 00000 n 
0000028593 00000 n 
0000028720 00000 n 
0000028849 00000 n 
0000028982 00000 n 
0000029084 00000 n 
0000029433 00000 n 
0000029519 00000 n 
trailer
<<
/Size 49
/Root 48 0 R
/Info 47 0 R
/ID [ <37A5D702BDFD43AC561E9D2A3644E8A0> <37A5D702BDFD43AC561E9D2A3644E8A0> ]
>>
startxref
29623
%%EOF